{"ast":null,"code":"var _jsxFileName = \"/home/ruijadom/code/courses/graphql/odyssey/deploy/odyssey-client/src/containers/track-card.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport styled from '@emotion/styled';\nimport { colors, mq } from '../styles';\nimport { humanReadableTimeFromSeconds } from '../utils/helpers';\nimport { Link } from '@reach/router';\nimport { gql, useMutation } from '@apollo/client';\n/**\n * Mutation to increment a track's number of views\n * (exported for tests)\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const INCREMENT_TRACK_VIEWS = gql`\n  mutation IncrementTrackViewsMutation($incrementTrackViewsId: ID!) {\n    incrementTrackViews(id: $incrementTrackViewsId) {\n      code\n      success\n      message\n      track {\n        id\n        numberOfViews\n      }\n    }\n  }\n`;\n/**\n * Track Card component renders basic info in a card format\n * for each track populating the tracks grid homepage.\n */\n\nconst TrackCard = ({\n  track\n}) => {\n  _s();\n\n  const {\n    title,\n    thumbnail,\n    author,\n    length,\n    modulesCount,\n    id\n  } = track;\n  const [incrementTrackViews] = useMutation(INCREMENT_TRACK_VIEWS, {\n    variables: {\n      incrementTrackViewsId: id\n    },\n    // to observe what the mutation response returns\n    onCompleted: data => {\n      console.log(data);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(CardContainer, {\n    to: `/track/${id}`,\n    onClick: incrementTrackViews,\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(CardImageContainer, {\n        children: /*#__PURE__*/_jsxDEV(CardImage, {\n          src: thumbnail,\n          alt: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          children: title || ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n          children: [/*#__PURE__*/_jsxDEV(AuthorImage, {\n            src: author.photo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AuthorAndTrack, {\n            children: [/*#__PURE__*/_jsxDEV(AuthorName, {\n              children: author.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TrackLength, {\n              children: [modulesCount, \" modules - \", humanReadableTimeFromSeconds(length)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TrackCard, \"aY+QtycQ5nuJlUAFKIkdNMxRUoI=\", false, function () {\n  return [useMutation];\n});\n\n_c = TrackCard;\nexport default TrackCard;\n/** Track Card styled components */\n\nconst CardContainer = styled(Link)({\n  borderRadius: 6,\n  color: colors.text,\n  backgroundSize: 'cover',\n  backgroundColor: 'white',\n  boxShadow: '0px 1px 5px 0px rgba(0,0,0,0.15)',\n  backgroundPosition: 'center',\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'space-between',\n  [mq[0]]: {\n    width: '90%'\n  },\n  [mq[1]]: {\n    width: '47%'\n  },\n  [mq[2]]: {\n    width: '31%'\n  },\n  height: 380,\n  margin: 10,\n  overflow: 'hidden',\n  position: 'relative',\n  ':hover': {\n    backgroundColor: colors.pink.lightest\n  },\n  cursor: 'pointer',\n  textDecoration: 'none'\n});\nconst CardContent = styled.div({\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'space-around',\n  height: '100%'\n});\n_c2 = CardContent;\nconst CardTitle = styled.h3({\n  textAlign: 'center',\n  fontSize: '1.4em',\n  lineHeight: '1em',\n  fontWeight: 700,\n  color: colors.text,\n  flex: 1\n});\n_c3 = CardTitle;\nconst CardImageContainer = styled.div({\n  height: 220,\n  position: 'relative',\n  '::after': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: 'rgba(250,0,150,0.20)'\n  }\n});\n_c4 = CardImageContainer;\nconst CardImage = styled.img({\n  objectFit: 'cover',\n  width: '100%',\n  height: '100%',\n  filter: 'grayscale(60%)'\n});\n_c5 = CardImage;\nconst CardBody = styled.div({\n  padding: 18,\n  flex: 1,\n  display: 'flex',\n  color: colors.textSecondary,\n  flexDirection: 'column',\n  justifyContent: 'space-around'\n});\n_c6 = CardBody;\nconst CardFooter = styled.div({\n  display: 'flex',\n  flexDirection: 'Row'\n});\n_c7 = CardFooter;\nconst AuthorImage = styled.img({\n  height: 30,\n  width: 30,\n  marginRight: 8,\n  borderRadius: '50%',\n  objectFit: 'cover'\n});\n_c8 = AuthorImage;\nconst AuthorAndTrack = styled.div({\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'space-between'\n});\n_c9 = AuthorAndTrack;\nconst AuthorName = styled.div({\n  lineHeight: '1em',\n  fontSize: '1.1em'\n});\n_c10 = AuthorName;\nconst TrackLength = styled.div({\n  fontSize: '0.8em'\n});\n_c11 = TrackLength;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"TrackCard\");\n$RefreshReg$(_c2, \"CardContent\");\n$RefreshReg$(_c3, \"CardTitle\");\n$RefreshReg$(_c4, \"CardImageContainer\");\n$RefreshReg$(_c5, \"CardImage\");\n$RefreshReg$(_c6, \"CardBody\");\n$RefreshReg$(_c7, \"CardFooter\");\n$RefreshReg$(_c8, \"AuthorImage\");\n$RefreshReg$(_c9, \"AuthorAndTrack\");\n$RefreshReg$(_c10, \"AuthorName\");\n$RefreshReg$(_c11, \"TrackLength\");","map":{"version":3,"sources":["/home/ruijadom/code/courses/graphql/odyssey/deploy/odyssey-client/src/containers/track-card.js"],"names":["React","styled","colors","mq","humanReadableTimeFromSeconds","Link","gql","useMutation","INCREMENT_TRACK_VIEWS","TrackCard","track","title","thumbnail","author","length","modulesCount","id","incrementTrackViews","variables","incrementTrackViewsId","onCompleted","data","console","log","photo","name","CardContainer","borderRadius","color","text","backgroundSize","backgroundColor","boxShadow","backgroundPosition","display","flexDirection","justifyContent","width","height","margin","overflow","position","pink","lightest","cursor","textDecoration","CardContent","div","CardTitle","h3","textAlign","fontSize","lineHeight","fontWeight","flex","CardImageContainer","content","top","bottom","left","right","background","CardImage","img","objectFit","filter","CardBody","padding","textSecondary","CardFooter","AuthorImage","marginRight","AuthorAndTrack","AuthorName","TrackLength"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from '@emotion/styled';\nimport { colors, mq } from '../styles';\nimport { humanReadableTimeFromSeconds } from '../utils/helpers';\nimport { Link } from '@reach/router';\nimport { gql, useMutation } from '@apollo/client';\n\n/**\n * Mutation to increment a track's number of views\n * (exported for tests)\n */\nexport const INCREMENT_TRACK_VIEWS = gql`\n  mutation IncrementTrackViewsMutation($incrementTrackViewsId: ID!) {\n    incrementTrackViews(id: $incrementTrackViewsId) {\n      code\n      success\n      message\n      track {\n        id\n        numberOfViews\n      }\n    }\n  }\n`;\n\n/**\n * Track Card component renders basic info in a card format\n * for each track populating the tracks grid homepage.\n */\nconst TrackCard = ({ track }) => {\n  const { title, thumbnail, author, length, modulesCount, id } = track;\n\n  const [incrementTrackViews] = useMutation(INCREMENT_TRACK_VIEWS, {\n    variables: { incrementTrackViewsId: id },\n    // to observe what the mutation response returns\n    onCompleted: (data) => {\n      console.log(data);\n    },\n  });\n\n  return (\n    <CardContainer to={`/track/${id}`} onClick={incrementTrackViews}>\n      <CardContent>\n        <CardImageContainer>\n          <CardImage src={thumbnail} alt={title} />\n        </CardImageContainer>\n        <CardBody>\n          <CardTitle>{title || ''}</CardTitle>\n          <CardFooter>\n            <AuthorImage src={author.photo} />\n            <AuthorAndTrack>\n              <AuthorName>{author.name}</AuthorName>\n              <TrackLength>\n                {modulesCount} modules - {humanReadableTimeFromSeconds(length)}\n              </TrackLength>\n            </AuthorAndTrack>\n          </CardFooter>\n        </CardBody>\n      </CardContent>\n    </CardContainer>\n  );\n};\n\nexport default TrackCard;\n\n/** Track Card styled components */\nconst CardContainer = styled(Link)({\n  borderRadius: 6,\n  color: colors.text,\n  backgroundSize: 'cover',\n  backgroundColor: 'white',\n  boxShadow: '0px 1px 5px 0px rgba(0,0,0,0.15)',\n  backgroundPosition: 'center',\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'space-between',\n  [mq[0]]: {\n    width: '90%',\n  },\n  [mq[1]]: {\n    width: '47%',\n  },\n  [mq[2]]: {\n    width: '31%',\n  },\n  height: 380,\n  margin: 10,\n  overflow: 'hidden',\n  position: 'relative',\n  ':hover': {\n    backgroundColor: colors.pink.lightest,\n  },\n  cursor: 'pointer',\n  textDecoration: 'none',\n});\n\nconst CardContent = styled.div({\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'space-around',\n  height: '100%',\n});\n\nconst CardTitle = styled.h3({\n  textAlign: 'center',\n  fontSize: '1.4em',\n  lineHeight: '1em',\n  fontWeight: 700,\n  color: colors.text,\n  flex: 1,\n});\n\nconst CardImageContainer = styled.div({\n  height: 220,\n  position: 'relative',\n  '::after': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: 'rgba(250,0,150,0.20)',\n  },\n});\n\nconst CardImage = styled.img({\n  objectFit: 'cover',\n  width: '100%',\n  height: '100%',\n  filter: 'grayscale(60%)',\n});\n\nconst CardBody = styled.div({\n  padding: 18,\n  flex: 1,\n  display: 'flex',\n  color: colors.textSecondary,\n  flexDirection: 'column',\n  justifyContent: 'space-around',\n});\n\nconst CardFooter = styled.div({\n  display: 'flex',\n  flexDirection: 'Row',\n});\n\nconst AuthorImage = styled.img({\n  height: 30,\n  width: 30,\n  marginRight: 8,\n  borderRadius: '50%',\n  objectFit: 'cover',\n});\n\nconst AuthorAndTrack = styled.div({\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'space-between',\n});\n\nconst AuthorName = styled.div({\n  lineHeight: '1em',\n  fontSize: '1.1em',\n});\n\nconst TrackLength = styled.div({\n  fontSize: '0.8em',\n});"]},"metadata":{},"sourceType":"module"}